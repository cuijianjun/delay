<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
  <style media="screen">
    body {background:black; text-align:center}
    #c1 {background:white}
  </style>
  <script>
    window.onload = function (ev) {
      let oc = document.getElementById('c1')
      let gd = oc.getContext('2d')
      let oColor = document.getElementById('color1')
      let color = 'black'

      oColor.onchange = function() {
        color = this.value
        console.log(color);
      }

      let lastX, lastY
      oc.onmousedown = function (ev) {
        lastX = ev.offsetX;
        lastY = ev.offsetY;
        oc.onmousemove = function (ev) {
          gd.beginPath();
          gd.moveTo(lastX,lastY)
          gd.lineTo(ev.offsetX,ev.offsetY)

          lastX = ev.offsetX;
          lastY = ev.offsetY;
          console.log(color);
          console.log(lastX,lastX);
          gd.strokeStyle = color;
          gd.stroke();
        };

        oc.onmouseup = function() {
          oc.onmousemove = null;
          oc.onmouseup = null
        }
      }

    }
  </script>
</head>
<body>
<input type="color" id="color1"><br>
<canvas id="c1" width="800" height="600">
  您的浏览器并不支持canvas，请<a href="http://chrome.google.com/">下载最新版浏览器</a>
</canvas>
</body>
</html>
