<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        .box {
            width: 200px;
            height: 200px;
            background-color: pink;
        }
    </style>
</head>
<body>
    <!-- 只需要使用 javascript 动态的修改 css 的值 -->
    <!-- 不是所有的 css 都可以实现动画的切换 -->
    <!-- 一般是那些 css 属性值为数字类的 -->
    <div class="box"></div>

    <script>
        var box = document.querySelector('.box');


        var flag = true;
        box.addEventListener('click', function () {

            if(!flag) return;

            flag = false;

            // 专门提供了一个 执行动画的方法
            // requestAnimationFrame
            // 其作用非常类似 setTimeout
            // 区别在于 requestAnimationFrame
            // 专门针对动画进行优化
            var i = 200;
            function step() {

                i++;

                box.style.width = i + 'px';
                
                if(i < 400) {
                    // setTimeout(step, 17);
                    requestAnimationFrame(step);
                } else {
                    box.style.width = '200px';
                    flag = true;
                }
            }

            step();

            // setTimeout(step);

            // requestAnimationFrame 每秒钟调用 60 次

            // 1 秒钟 1000 毫秒

            // 1000 / 60 ~ 17
        })
    </script>
</body>
</html>